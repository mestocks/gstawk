#! /usr/bin/make

###### ######

#PWD=/home/mist
#FILENAMES=$(PWD)/.gstawk.log

#FNAMES = $(shell cat $(FILENAMES))

# path/to/assembly.fa
FULLPATHS = $(shell cat $(FILENAMES))

#/data/mist/test_data/Pa_can008.fa

# assembly.fa
FNAMES = $(notdir $(FULLPATHS))
FPATHS = $(dir $(FULLPATHS))

# assembly.fa.txt
STS = $(addsuffix .txt,$(FNAMES))

#FSA = $(addprefix $(PWD)/,$(FNAMES))
#base = $(basename $(FSA))
#STS = $(addsuffix .txt,$(FSA))

###### ######

.PHONY:	print
print:	$(STS)
	echo "assembly ncontigs nbps ulen maxlen n50num n50len nonATGC"
	cat $^

###### ######

.PHONY:	stats
stats:	$(STS)

%.txt:	$(FPATHS)%
	echo -n $^" " > $@
	gstat $^ >> $@


